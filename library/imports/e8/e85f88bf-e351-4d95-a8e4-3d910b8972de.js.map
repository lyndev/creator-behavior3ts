{"version":3,"sources":["assets/libs/b3/composites/B3MemPriority.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,0CAA0C;AAC1C,mDAAkD;AAIlD;IAAmC,iCAAW;IAC5C,uBAAY,CAAmB;QAA/B,iBAGC;QAFC,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC;QACvB,QAAA,kBAAM,CAAC,CAAC,SAAC;;IACX,CAAC;IAED,4BAAI,GAAJ,UAAK,IAAY;QACf,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;IAChE,CAAC;IAED,4BAAI,GAAJ,UAAK,IAAY;QACf,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;QACvE,KAAK,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACjD,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAE5C,IAAI,MAAM,KAAK,sBAAU,CAAC,OAAO,EAAE;gBACjC,IAAI,MAAM,KAAK,sBAAU,CAAC,OAAO,EAAE;oBACjC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;iBAC/D;gBAED,OAAO,MAAM,CAAC;aACf;SACF;QAED,OAAO,sBAAU,CAAC,OAAO,CAAC;IAC5B,CAAC;IACH,oBAAC;AAAD,CA1BA,AA0BC,CA1BkC,yBAAW,GA0B7C;AA1BY,sCAAa","file":"","sourceRoot":"/","sourcesContent":["import { EnumStatus } from \"../Constants\";\nimport { B3Composite } from \"../core/B3Composite\";\nimport { IB3CompositeProp } from \"../core/B3INodeProperties\";\nimport { B3Tick } from \"../core/B3Tick\";\n\nexport class B3MemPriority extends B3Composite {\n  constructor(d: IB3CompositeProp) {\n    d.name = \"MemPriority\";\n    super(d);\n  }\n\n  open(tick: B3Tick) {\n    tick.blackboard.set('runningChild', 0, tick.tree.id, this.id);\n  }\n\n  tick(tick: B3Tick) {\n    var child = tick.blackboard.get('runningChild', tick.tree.id, this.id);\n    for (var i = child; i < this.children.length; i++) {\n      var status = this.children[i].execute(tick);\n\n      if (status !== EnumStatus.FAILURE) {\n        if (status === EnumStatus.RUNNING) {\n          tick.blackboard.set('runningChild', i, tick.tree.id, this.id);\n        }\n\n        return status;\n      }\n    }\n\n    return EnumStatus.FAILURE;\n  }\n}"]}